<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        const stars = document.querySelectorAll('.rating-star');
        let currentRating = 0; // To keep track of the current selected rating

        stars.forEach(star => {
            star.addEventListener('click', function() {
                currentRating = this.getAttribute('data-value');
                document.getElementById('rating').value = currentRating;
                updateStars(currentRating);
            });

            star.addEventListener('mouseover', function() {
                updateStars(this.getAttribute('data-value'));
            });

            star.addEventListener('mouseout', function() {
                updateStars(currentRating); // Revert to the current rating after hover
            });
        });

        function updateStars(rating) {
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('selected', 'fas');
                    star.classList.remove('far');
                } else {
                    star.classList.remove('selected', 'fas');
                    star.classList.add('far');
                }
            });
        }
    });
</script>